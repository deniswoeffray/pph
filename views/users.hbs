{{#> baseLayout }}

    {{#*inline "content-block"}}
        <h1>User list</h1>
        <form class = "addForm" action='/users' method='POST'>
            <div class="addUser">
                <input name="lastname" type="text" placeholder="Lastname here"/>
                <input name="firstname" type="text" placeholder="Firstname here"/>
                <input name="email" type="text" placeholder="Email here"/>
                <input name="password" type="text" placeholder="Password here"/>
                <select name="role">
                    <option value="user">user</option>
                    <option value="admin">admin</option>
                </select>
                <button type ="submit" name="addUserButton">Add user</button>
            </div>
        </form>
            <div class="titles">
                <input id="user-id-label" type="text" value="Id" readonly/>
                <input id="user-lastname-label" type="text" value="Nom" readonly/>
                <input id="user-firstname-label" type="text" value="Prenom" readonly/>
                <input id="user-email-label" type="text" value="E-mail" readonly/>
                <input id="user-password-label" type="text" value="Mot de passe" readonly/>
                <input id="user-role-label" type="text" value="RÃ´le" readonly/>
            </div>

            {{#each users}}
                <form class="userForm">
                    <div class="user">
                        <input id="user-{{this.id}}" type="text" value="{{this.id}}" />
                        <input id="user-{{this.id}}-name" name="firstname" type="text" value="{{this.nom}}" />
                        <input id="user-{{this.id}}-firstname" name="lastname" type="text" value="{{this.prenom}}" />
                        <input id="user-{{this.id}}-email" name="email" type="text" value="{{this.email}}" />
                        <input id="user-{{this.id}}-password" name="password" type="text" value="{{this.password}}" />
                        <input id="user-{{this.id}}-role" name="role" type="text" value="{{this.role}}" />
                        <button type="button" onclick="updateUser({{this.id}}, this.form)">Save</button>
                        <button type="button" onclick="deleteUser({{this.id}})">Delete</button>
                    </div>
                </form>
            {{/each}}
    {{/inline}}
{{/baseLayout}}

<script src='javascripts/users.js'></script>